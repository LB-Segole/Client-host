exports.id=893,exports.ids=[893],exports.modules={8864:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return i},noSSR:function(){return l}});let n=r(167),a=r(997);r(6689);let o=n._(r(4830));function s(e){return{default:(null==e?void 0:e.default)||e}}function l(e,t){delete t.webpack,delete t.modules;let r=t.loading;return()=>(0,a.jsx)(r,{error:null,isLoading:!0,pastDelay:!1,timedOut:!1})}function i(e,t){let r=o.default,n={loading:e=>{let{error:t,isLoading:r,pastDelay:n}=e;return null}};e instanceof Promise?n.loader=()=>e:"function"==typeof e?n.loader=e:"object"==typeof e&&(n={...n,...e});let a=(n={...n,...t}).loader;return(n.loadableGenerated&&(n={...n,...n.loadableGenerated},delete n.loadableGenerated),"boolean"!=typeof n.ssr||n.ssr)?r({...n,loader:()=>null!=a?a().then(s):Promise.resolve(s(()=>null))}):(delete n.webpack,delete n.modules,l(r,n))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},286:(e,t,r)=>{"use strict";r.d(t,{S:()=>o});var n=r(997),a=r(6689);class o extends a.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Uncaught error:",e,t),this.props.onError?.(e,t)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,n.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,n.jsxs)("div",{children:[n.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Something went wrong"}),n.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:this.state.error?.message||"An unexpected error occurred"})]}),n.jsx("div",{className:"mt-8 space-y-6",children:n.jsx("button",{onClick:()=>window.location.reload(),className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Reload page"})})]})}):this.props.children}constructor(...e){super(...e),this.state={hasError:!1,error:null}}}},445:(e,t,r)=>{"use strict";r.d(t,{Q:()=>l,n:()=>s});var n=r(997),a=r(6689);let o=(0,a.createContext)(null),s=({children:e})=>{let t=(0,a.useRef)(null),r=(0,a.useRef)(null),s=(0,a.useRef)([]),[l,i]=(0,a.useState)(!1),[u,d]=(0,a.useState)(!1);(0,a.useEffect)(()=>(t.current=new Audio,()=>{t.current&&(t.current.pause(),t.current=null)}),[]);let c=(0,a.useCallback)(async e=>{try{if(!t.current)throw Error("Audio context not initialized");let r=new Blob([e],{type:"audio/mp3"}),n=URL.createObjectURL(r);t.current.src=n,t.current.muted=u,await t.current.play(),i(!0),t.current.onended=()=>{i(!1),URL.revokeObjectURL(n)}}catch{throw i(!1),Error("Failed to play audio")}},[u]),p=(0,a.useCallback)(()=>{t.current&&(t.current.pause(),t.current.currentTime=0,i(!1))},[]),f=()=>{t.current&&(t.current.muted=!0,d(!0))},h=()=>{t.current&&(t.current.muted=!1,d(!1))},m=async()=>{try{let e=await navigator.mediaDevices.getUserMedia({audio:!0}),t=new MediaRecorder(e);s.current=[],t.ondataavailable=e=>{e.data.size>0&&s.current.push(e.data)},t.start(),r.current=t}catch(e){console.error("Error starting recording:",e)}};return n.jsx(o.Provider,{value:{playAudio:c,stopAudio:p,isPlaying:l,mute:f,unmute:h,toggleMute:()=>{u?h():f()},isMuted:u,startRecording:m,stopRecording:()=>{r.current&&(r.current.stop(),r.current.onstop=()=>{})}},children:e})},l=()=>{let e=(0,a.useContext)(o);if(!e)throw Error("useAudio must be used within an AudioProvider");return e}},8111:(e,t,r)=>{"use strict";r.d(t,{Ho:()=>d,Vo:()=>u,aC:()=>c});var n=r(997),a=r(6689),o=r.n(a),s=r(4661);let l={isAuthenticated:!1,user:null,token:null,loading:!0},i=(e,t)=>{switch(t.type){case"LOGIN_SUCCESS":case"REGISTER_SUCCESS":return{...e,isAuthenticated:!0,user:t.payload.user,token:t.payload.token,loading:!1};case"LOGOUT":return{...e,isAuthenticated:!1,user:null,token:null,loading:!1};case"SET_LOADING":return{...e,loading:t.payload};default:return e}},u=o().createContext(void 0),d=({children:e})=>{let[t,r]=(0,a.useReducer)(i,l),o=(0,s.useNavigate)();(0,a.useEffect)(()=>{},[]);let d=async(e,t)=>{try{let n=await fetch("https://api.voiceai.tech/v1/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});if(!n.ok)throw Error("Invalid credentials");let{user:a,token:s}=await n.json();r({type:"LOGIN_SUCCESS",payload:{user:a,token:s}}),o("/dashboard")}catch{throw Error("Login failed")}},c=async(e,t,n)=>{try{let a=await fetch("https://api.voiceai.tech/v1/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,email:t,password:n})});if(!a.ok)throw Error("Registration failed");let{user:s,token:l}=await a.json();r({type:"REGISTER_SUCCESS",payload:{user:s,token:l}}),o("/dashboard")}catch{throw Error("Registration failed")}};return t.loading?n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):n.jsx(u.Provider,{value:{...t,login:d,register:c,logout:()=>{r({type:"LOGOUT"}),o("/login")}},children:e})},c=()=>{let e=(0,a.useContext)(u);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},4374:(e,t,r)=>{"use strict";r.d(t,{DG:()=>i,uo:()=>l});var n=r(997),a=r(6689),o=r.n(a),s=r(445);let l=(0,a.createContext)(null),i=({children:e})=>{let[t,r]=(0,a.useState)(null),[i,u]=(0,a.useState)([]),[d,c]=(0,a.useState)(!1),[p,f]=(0,a.useState)(null),h=(0,s.Q)(),m=o().useCallback(()=>{t&&u(e=>[{...t,status:"ended",timestamp:new Date},...e]),r(null)},[t]);(0,a.useEffect)(()=>{if(t?.status==="ringing"){let e=setTimeout(()=>{t?.status==="ringing"&&m()},3e4);return()=>clearTimeout(e)}},[t,m]);let g=async e=>{try{c(!0),f(null),await new Promise(e=>setTimeout(e,1e3));let t={id:`call-${Date.now()}`,from:"user-123",to:e,status:"calling",duration:0,timestamp:new Date};r(t),setTimeout(()=>{r(e=>e?.id===t.id?{...e,status:"in-progress"}:e);let e=setInterval(()=>{r(e=>e?{...e,duration:e.duration+1}:null)},1e3);setTimeout(()=>clearInterval(e),36e5)},2e3)}catch(e){throw f("Failed to initiate call"),e}finally{c(!1)}};return n.jsx(l.Provider,{value:{currentCall:t,callHistory:i,startCall:g,endCall:m,answerCall:e=>{r(t=>t?.id===e?{...t,status:"in-progress"}:t)},rejectCall:e=>{t?.id===e&&(u(e=>[{...t,status:"ended",duration:0,timestamp:new Date},...e]),r(null))},toggleMute:()=>{"function"==typeof h.mute?h.mute():console.warn("mute is not available in AudioContext")},toggleHold:()=>{},sendDTMF:e=>{},isLoading:d,error:p},children:e})}},3893:(e,t,r)=>{"use strict";r.a(e,async(e,n)=>{try{r.r(t),r.d(t,{default:()=>y});var a=r(997),o=r(9752),s=r(9063),l=r(5152),i=r.n(l),u=r(6689),d=r(4661),c=r(286),p=r(445),f=r(8111),h=r(4374),m=e([o,s]);[o,s]=m.then?(await m)():m;let x=new o.QueryClient({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1,staleTime:3e5,cacheTime:6e5}}});function g({Component:e,pageProps:t}){let[r,n]=(0,u.useState)(!1);return r?a.jsx(c.S,{onError:(e,t)=>console.error("Application error:",e,t),children:(0,a.jsxs)(o.QueryClientProvider,{client:x,children:[a.jsx(d.BrowserRouter,{children:a.jsx(f.Ho,{children:a.jsx(p.n,{children:a.jsx(h.DG,{children:a.jsx(e,{...t})})})})}),!1]})}):null}let y=i()(()=>Promise.resolve(g),{ssr:!1});n()}catch(e){n(e)}})},4830:(e,t,r)=>{"use strict";e.exports=r(7093).vendored.contexts.Loadable},5152:(e,t,r)=>{e.exports=r(8864)}};