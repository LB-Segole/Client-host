(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[270],{8747:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/CallDetails",function(){return s(4743)}])},3759:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});var a=s(7294),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),n=(e,t)=>{let s=(0,a.forwardRef)((s,n)=>{let{color:i="currentColor",size:c=24,strokeWidth:d=2,absoluteStrokeWidth:o,className:u="",children:m,...x}=s;return(0,a.createElement)("svg",{ref:n,...r,width:c,height:c,stroke:i,strokeWidth:o?24*Number(d)/Number(c):d,className:["lucide","lucide-".concat(l(e)),u].join(" "),...x},[...t.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...Array.isArray(m)?m:[m]])});return s.displayName="".concat(e),s}},641:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(3759).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},1700:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(3759).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},8267:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(3759).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},530:function(e,t,s){"use strict";s.d(t,{z:function(){return i}});var a=s(5893),r=s(9107),l=s(641);let n=(0,r.j)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",{variants:{variant:{default:"bg-blue-600 text-white hover:bg-blue-700",destructive:"bg-red-600 text-white hover:bg-red-700",outline:"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50",ghost:"bg-transparent text-gray-600 hover:bg-gray-50",link:"bg-transparent text-blue-600 hover:underline"},size:{default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),i=e=>{let{variant:t,size:s,className:r,isLoading:i,children:c,...d}=e;return(0,a.jsx)("button",{className:n({variant:t,size:s,className:r}),disabled:i,...d,children:i?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.Z,{className:"mr-2 h-4 w-4 animate-spin"}),c]}):c})}},4582:function(e,t,s){"use strict";s.d(t,{Zb:function(){return l}});var a=s(5893);let r=(0,s(9107).j)("rounded-2xl shadow-lg transition-shadow",{variants:{variant:{default:"bg-white hover:shadow-xl",primary:"bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900"}},defaultVariants:{variant:"default"}}),l=e=>{let{variant:t,className:s,children:l,...n}=e;return(0,a.jsx)("div",{className:r({variant:t,className:s}),...n,children:l})}},1802:function(e,t,s){"use strict";s.d(t,{G:function(){return l}});var a=s(7294),r=s(4501);let l=()=>{let e=(0,a.useContext)(r.uo);if(!e)throw Error("useCalls must be used within a CallProvider");return e}},4743:function(e,t,s){"use strict";s.r(t),s.d(t,{CallDetails:function(){return p},default:function(){return y}});var a=s(5893),r=s(641),l=s(3759);let n=(0,l.Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var i=s(1700);let c=(0,l.Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),d=(0,l.Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);var o=s(8267),u=s(7294),m=s(9250),x=s(530),h=s(4582),f=s(1802);let p=()=>{let{callId:e}=(0,m.UO)(),{callHistory:t}=(0,f.G)(),[s,l]=(0,u.useState)(!0),[p,y]=(0,u.useState)(null);(0,u.useEffect)(()=>{(async()=>{l(!0);try{await new Promise(e=>setTimeout(e,500));let s=t.find(t=>t.id===e)||null;y(s)}catch(e){console.error("Failed to fetch call details:",e)}finally{l(!1)}})()},[e,t]);let g=e=>new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return s?(0,a.jsx)("div",{className:"container mx-auto px-4 py-8 flex justify-center items-center h-64",children:(0,a.jsx)(r.Z,{className:"h-8 w-8 animate-spin text-blue-600"})}):p?(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsxs)(x.z,{onClick:()=>window.history.back(),variant:"outline",size:"sm",children:[(0,a.jsx)(n,{className:"mr-2 h-4 w-4"}),"Back to Calls"]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,a.jsxs)(h.Zb,{className:"p-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Call Details"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"p-3 rounded-full bg-blue-50 text-blue-600",children:(0,a.jsx)(i.Z,{className:"h-5 w-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Status"}),(0,a.jsx)("p",{className:"font-medium text-gray-900 capitalize",children:p.status})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"p-3 rounded-full bg-blue-50 text-blue-600",children:(0,a.jsx)(c,{className:"h-5 w-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Duration"}),(0,a.jsx)("p",{className:"font-medium text-gray-900",children:(e=>{let t=e%60;return"".concat(Math.floor(e/60),":").concat(t<10?"0":"").concat(t)})(p.duration)})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"p-3 rounded-full bg-blue-50 text-blue-600",children:(0,a.jsx)(d,{className:"h-5 w-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Date"}),(0,a.jsx)("p",{className:"font-medium text-gray-900",children:new Date(p.timestamp).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"p-3 rounded-full bg-blue-50 text-blue-600",children:(0,a.jsx)(o.Z,{className:"h-5 w-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"To"}),(0,a.jsx)("p",{className:"font-medium text-gray-900",children:p.to})]})]})]})]}),p.transcript&&(0,a.jsxs)(h.Zb,{className:"p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Transcript"}),(0,a.jsx)("div",{className:"bg-gray-50 p-4 rounded-md",children:(0,a.jsx)("p",{className:"whitespace-pre-line text-gray-700",children:p.transcript})})]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(h.Zb,{className:"p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Call Recording"}),p.recordingUrl?(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsxs)("audio",{controls:!0,className:"w-full",children:[(0,a.jsx)("source",{src:p.recordingUrl,type:"audio/wav"}),(0,a.jsx)("track",{kind:"captions",label:"No captions available"}),"Your browser does not support the audio element."]}),(0,a.jsx)(x.z,{variant:"outline",className:"mt-4 w-full",children:"Download Recording"})]}):(0,a.jsx)("div",{className:"text-center py-6 text-gray-500",children:"No recording available for this call"})]}),(0,a.jsxs)(h.Zb,{className:"p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Call Summary"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Start Time"}),(0,a.jsx)("p",{className:"text-gray-900",children:g(p.timestamp)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"End Time"}),(0,a.jsx)("p",{className:"text-gray-900",children:g(new Date(p.timestamp.getTime()+1e3*p.duration))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Call Type"}),(0,a.jsx)("p",{className:"text-gray-900",children:"Outbound"})]})]})]})]})]})]}):(0,a.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Call Not Found"}),(0,a.jsx)("p",{className:"text-gray-600",children:"The requested call could not be found in your history."}),(0,a.jsxs)(x.z,{onClick:()=>window.history.back(),variant:"outline",className:"mt-6",children:[(0,a.jsx)(n,{className:"mr-2 h-4 w-4"}),"Back to Calls"]})]})})};var y=p},9107:function(e,t,s){"use strict";s.d(t,{j:function(){return l}});let a=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,r=function(){for(var e,t,s=0,a="",r=arguments.length;s<r;s++)(e=arguments[s])&&(t=function e(t){var s,a,r="";if("string"==typeof t||"number"==typeof t)r+=t;else if("object"==typeof t){if(Array.isArray(t)){var l=t.length;for(s=0;s<l;s++)t[s]&&(a=e(t[s]))&&(r&&(r+=" "),r+=a)}else for(a in t)t[a]&&(r&&(r+=" "),r+=a)}return r}(e))&&(a&&(a+=" "),a+=t);return a},l=(e,t)=>s=>{var l;if((null==t?void 0:t.variants)==null)return r(e,null==s?void 0:s.class,null==s?void 0:s.className);let{variants:n,defaultVariants:i}=t,c=Object.keys(n).map(e=>{let t=null==s?void 0:s[e],r=null==i?void 0:i[e];if(null===t)return null;let l=a(t)||a(r);return n[e][l]}),d=s&&Object.entries(s).reduce((e,t)=>{let[s,a]=t;return void 0===a||(e[s]=a),e},{});return r(e,c,null==t?void 0:null===(l=t.compoundVariants)||void 0===l?void 0:l.reduce((e,t)=>{let{class:s,className:a,...r}=t;return Object.entries(r).every(e=>{let[t,s]=e;return Array.isArray(s)?s.includes({...i,...d}[t]):({...i,...d})[t]===s})?[...e,s,a]:e},[]),null==s?void 0:s.class,null==s?void 0:s.className)}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=8747)}),_N_E=e.O()}]);